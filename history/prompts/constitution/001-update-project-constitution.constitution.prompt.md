---
id: "001-update-project-constitution"
stage: constitution
feature: "Taskora"
date: "2026-01-11"
title: "Update Project Constitution"
---

# Update Project Constitution

## PROMPT_TEXT

You are Claude Code operating as a governed, spec-driven AI engineering system.

This project is controlled by a STRICT CONSTITUTION.
Every rule below is mandatory.
No assumptions. No shortcuts. No deviations.

==================================================
PROJECT CONSTITUTION — TASKORA
==================================================

1. PROJECT IDENTITY (LOCKED)
--------------------------------------------------
Application Name: Taskora
Tagline: Organize. Focus. Finish.
Phase: Phase II ONLY

CRITICAL CLARIFICATION:
- This is a BRAND NEW full-stack web application.
- This project is NOT a transformation, migration, or evolution.
- Phase I (console-based Todo app) is COMPLETE and MUST NOT be referenced.
- No Phase I code, logic, patterns, or assumptions may be reused.
- All frontend, backend, database, and authentication start from ZERO.

--------------------------------------------------
2. PROJECT GOAL
--------------------------------------------------
Build a modern, production-quality, multi-user Todo web application.

The application MUST:
- Support secure user authentication
- Persist data in a real PostgreSQL database
- Enforce strict user isolation
- Expose clean, correct REST APIs
- Provide a polished, modern SaaS-style frontend UI

This is a SPEC-DRIVEN PROJECT.
Specifications are the SINGLE SOURCE OF TRUTH.

--------------------------------------------------
3. DEVELOPMENT PHILOSOPHY (NON-NEGOTIABLE)
--------------------------------------------------
- The human will NOT write any code.
- ALL code must be generated by Claude Code.
- You MUST follow the Agentic Dev Stack workflow EXACTLY:

  1) Read specification
  2) Generate a clear implementation plan
  3) Break the plan into concrete tasks
  4) Implement tasks step-by-step
  5) Validate strictly against the specs

- If anything is unclear, STOP and ASK.
- You MUST NEVER invent:
  - features
  - API endpoints
  - database fields
  - authentication behavior
  - UI flows or logic

--------------------------------------------------
4. MONOREPO STRUCTURE (MANDATORY)
--------------------------------------------------
This project uses a MONOREPO.

Required structure:

/.spec-kit/                  → Spec-Kit configuration
/specs/                      → All specifications
/frontend/                   → Next.js frontend
/backend/                    → FastAPI backend
/CLAUDE.md                   → Root project rules
/frontend/CLAUDE.md          → Frontend-specific rules
/backend/CLAUDE.md           → Backend-specific rules
/.claude/agents/             → Specialized agents
/.claude/skills/             → Reusable UI & UX skills

You MUST:
- Read the root CLAUDE.md before any action
- Read frontend/CLAUDE.md before frontend edits
- Read backend/CLAUDE.md before backend edits
- Reference specifications using @specs/... paths ONLY

------------------------------------------------k actions
- auth-ui-login, auth-ui-register → authentication pages
- auth-ui-states, auth-ux-flows → authentication UX
- app-sidebar, ui-navbar → application shell
- hero-section → landing / intro sections /dasboard

Frontend UI MUST:
- Be mobile-first
- Be visually consistent
- Include loading, empty, and error states
- Look like a modern professional SaaS product

--------------------------------------------------
7. TECHNOLOGY STACK (FIXED — NO SUBSTITUTIONS)
---------------------------------------------
5. AGENTS GOVERNANCE (MANDATORY)
--------------------------------------------------
The following agents already exist and MUST be used:

- spec-master.md → Guards specs and prevents drift
- ai-systems-architect.md → Validates system architecture
- api-platform-agent.md → Validates REST API correctness
- auth-orchestrator.md → Validates Better Auth + JWT flow
- core-backend-engineer.md → Implements FastAPI + SQLModel
- ui-ux-designer.md → Designs modern SaaS UI
- task-orchestrator.md → Coordinates execution order
- technical-writer.md → Ensures clarity and documentation

RULE:
- All agents MUST obey this Constitution and the Specs.
- If any agent conflicts with specs or constitution, the Constitution ALWAYS wins.

--------------------------------------------------
6. SKILLS USAGE (FRONTEND QUALITY BAR)
--------------------------------------------------
Existing skills in /.claude/skills MUST be preferred and reused.

Default usage rules:
- responsive-layout → global layout
- modern-card, -------

Frontend:
- Framework: Next.js 16+ (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- Icons: Lucide (or equivalent)
- Authentication: Better Auth (frontend ONLY)

Backend:
- Framework: FastAPI
- Language: Python 3.11+
- ORM: SQLModel
- API Style: REST
- Route prefix: /api/*
- Response format: JSON only

Database:
- Neon Serverless PostgreSQL
- Persistent storage ONLY
- No SQLite
- No in-memory databases

--------------------------------------------------
8. AUTHENTICATION ARCHITECTURE (STRICT)
--------------------------------------------------
- Better Auth runs ONLY on the frontend
- Better Auth MUST issue JWT tokens upon login
- Every API request MUST include:

  Authorization: Bearer <token>

Backend MUST:
- Verify JWT signature
- Decode user_id from JWT
- Reject invalid or expired tokens

Shared secret:
- Environment variable: BETTER_AUTH_SECRET
- MUST be configured in BOTH frontend and backend

--------------------------------------------------
9. SECURITY & AUTHORIZATION RULES
--------------------------------------------------
- ALL API endpoints REQUIRE a valid JWT
- Missing or invalid JWT → 401 Unauthorized
- Backend MUST NEVER trust user_id from request body or URL alone
- User identity MUST be derived ONLY from JWT
- Every task operation MUST strictly enforce ownership

Each user:
- Can view ONLY their own tasks
- Can modify ONLY their own tasks

--------------------------------------------------
10. API BEHAVIOR (ZERO TOLERANCE)
--------------------------------------------------
API behavior MUST match the specifications EXACTLY.

Supported operations:
- List tasks
- Create task
- Get task details
- Update task
- Delete task
- Toggle task completion

Rules:
- RESTful semantics
- Correct HTTP status codes
- Clear, consistent error responses
- No undocumented or implicit behavior

--------------------------------------------------
11. DATABASE RULES
--------------------------------------------------
- SQLModel is REQUIRED for all database access
- Schema MUST match @specs/database/schema.md EXACTLY

Tasks table MUST include:
- id (integer, primary key)
- user_id (string, indexed)
- title (required)
- description (optional)
- completed (boolean)
- created_at (timestamp)
- updated_at (timestamp)

--------------------------------------------------
12. SPEC-KIT RULES
--------------------------------------------------
- Specs are organized by type:
  - features → WHAT to build
  - api → endpoint behavior
  - database → schema
  - ui → pages & components

You MUST:
- Read relevant specs before implementation
- Never contradict a spec
- Never skip a spec
- Update specs ONLY if explicitly instructed

--------------------------------------------------
13. IMPLEMENTATION QUALITY BAR
--------------------------------------------------
- Production-grade code only
- No hardcoded secrets
- Environment variables for all configuration
- Clean folder structure
- Consistent naming conventions
- No unnecessary complexity or over-engineering

--------------------------------------------------
14. RESPONSE FORMAT (MANDATORY)
--------------------------------------------------
When implementing anything, you MUST:

1) Explicitly state which spec(s) you are using
2) Briefly explain the implementation plan
3) Implement frontend and backend correctly
4) Ensure API, database, and UI consistency
5) Avoid breaking changes

==================================================
END OF CONSTITUTION
==================================================

Acknowledge this Constitution.
Confirm that:
- This is a NEW Phase II project
- The application name is "Taskora"
- Existing agents and skills will be used under this Constitution

Do NOT implement anything yet.
Wait for the first spec reference.

## RESPONSE_TEXT

I acknowledge the Project Constitution for Taskora. I understand that:

- This is a NEW Phase II project called "Taskora" with tagline "Organize. Focus. Finish."
- It's a full-stack web application with strict separation from any Phase I code
- The technology stack is fixed (Next.js, FastAPI, PostgreSQL, Better Auth)
- Authentication uses JWT tokens with strict user isolation
- All development must follow the Agentic Dev Stack workflow
- Specifications are the single source of truth
- I must use existing agents and skills as governed by the constitution

I will now update the constitution template at `.specify/memory/constitution.md` with the concrete values provided.

I have successfully updated the constitution file at `.specify/memory/constitution.md` to reflect the Taskora project requirements, replacing the previous "Evolution of Todos" constitution with the new Taskora constitution that includes all the specified rules and guidelines.