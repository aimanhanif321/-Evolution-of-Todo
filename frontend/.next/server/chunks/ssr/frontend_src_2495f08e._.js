module.exports=[34075,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",c=class{static async request(a,c,d,e){let f={"Content-Type":"application/json"};e&&(f.Authorization=`Bearer ${e}`);let g={method:c,headers:f};d&&(g.body=JSON.stringify(d));try{let c=await fetch(`${b}${a}`,g);if(401===c.status)throw Error("Unauthorized");if(!c.ok){let a="An error occurred";try{let b=await c.json();a=b.detail||b.message||a}catch(b){a=c.statusText}throw Error(a)}if(204===c.status)return{};return await c.json()}catch(a){throw a}}static get(a,b){return this.request(a,"GET",void 0,b)}static post(a,b,c){return this.request(a,"POST",b,c)}static put(a,b,c){return this.request(a,"PUT",b,c)}static patch(a,b,c){return this.request(a,"PATCH",b,c)}static delete(a,b){return this.request(a,"DELETE",void 0,b)}};a.s(["default",0,c])},84,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(98983),e=a.i(34075),f=a.i(31261);let g=(0,f.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=(0,f.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),i=(0,f.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),j=(0,f.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function k({task:a,onUpdate:f,onEdit:k}){let{user:l,token:m}=(0,d.useAuth)(),[n,o]=(0,c.useState)(!1),p=new Date(a.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),q=async()=>{if(l&&m&&!n){o(!0);try{await e.default.patch(`/api/${l.id}/tasks/${a.id}/complete`,{completed:!a.completed},m),f()}catch(a){console.error("Failed to toggle task",a),alert("Failed to update task")}finally{o(!1)}}},r=async()=>{if(confirm("Are you sure you want to delete this task?")&&l&&m&&!n){o(!0);try{await e.default.delete(`/api/${l.id}/tasks/${a.id}`,m),f()}catch(a){console.error("Failed to delete task",a),alert("Failed to delete task")}finally{o(!1)}}};return(0,b.jsxs)("div",{className:`group bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-slate-100 p-5 flex flex-col justify-between h-full ${a.completed?"opacity-75 bg-slate-50":""}`,children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("button",{onClick:q,disabled:n,className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${a.completed?"bg-green-500 border-green-500 text-white":"border-slate-300 hover:border-indigo-500 text-transparent"}`,children:(0,b.jsx)(g,{className:"w-3.5 h-3.5 stroke-[3]"})}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>k(a),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Edit task",children:(0,b.jsx)(i,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:r,className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:(0,b.jsx)(h,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("h3",{className:`font-semibold text-lg mb-2 leading-tight ${a.completed?"text-slate-500 line-through decoration-slate-400":"text-slate-800"}`,children:a.title}),(0,b.jsx)("p",{className:`text-sm leading-relaxed ${a.completed?"text-slate-400":"text-slate-600"}`,children:a.description||"No description"})]}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-100 flex items-center gap-2 text-xs text-slate-400 font-medium",children:[(0,b.jsx)(j,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:p})]})]})}let l=(0,f.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m=(0,f.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n({onClose:a,onSuccess:f,editTask:g}){let{user:h,token:i}=(0,d.useAuth)(),[j,k]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{g&&(k(g.title),o(g.description))},[g]);let r=async b=>{if(b.preventDefault(),h&&i){q(!0);try{g?await e.default.put(`/api/${h.id}/tasks/${g.id}`,{title:j,description:n,completed:!1},i):await e.default.post(`/api/${h.id}/tasks`,{title:j,description:n},i),f(),a()}catch(a){console.error("Failed to save task",a),alert("Failed to save task")}finally{q(!1)}}};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:g?"Edit Task":"New Task"}),(0,b.jsx)("button",{onClick:a,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:(0,b.jsx)(l,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:r,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Title"}),(0,b.jsx)("input",{type:"text",required:!0,value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all placeholder:text-slate-400",placeholder:"What needs to be done?",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Description"}),(0,b.jsx)("textarea",{value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all placeholder:text-slate-400 min-h-[120px] resize-none",placeholder:"Add some details..."})]}),(0,b.jsxs)("div",{className:"pt-4 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:a,className:"px-5 py-2.5 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:p,className:"px-5 py-2.5 bg-indigo-600 text-white font-medium hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-500/30 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p&&(0,b.jsx)(m,{className:"w-4 h-4 animate-spin"}),g?"Save Changes":"Create Task"]})]})]})]})})}let o=(0,f.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,f.default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);function q(){let{user:a,token:f}=(0,d.useAuth)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[l,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),t=async()=>{if(a&&f)try{let b=await e.default.get(`/api/${a.id}/tasks`,f);h(b.data||[])}catch(a){console.error("Failed to fetch tasks",a)}finally{j(!1)}};(0,c.useEffect)(()=>{a&&f&&t()},[a,f]);let u=[...g].sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime());return i?(0,b.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,b.jsx)(m,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"My Tasks"}),(0,b.jsxs)("p",{className:"text-slate-500 mt-1",children:["You have ",g.filter(a=>!a.completed).length," incomplete tasks."]})]}),(0,b.jsxs)("button",{onClick:()=>{s(null),q(!0)},className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-lg shadow-lg shadow-indigo-500/20 font-medium transition-all hover:scale-[1.02]",children:[(0,b.jsx)(o,{className:"w-5 h-5"}),"Add Task"]})]}),0===g.length?(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center border-2 border-dashed border-slate-200",children:[(0,b.jsx)("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(p,{className:"w-8 h-8 text-slate-400"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No tasks yet"}),(0,b.jsx)("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"Get started by creating your first task using the button above."}),(0,b.jsx)("button",{onClick:()=>{s(null),q(!0)},className:"text-indigo-600 font-semibold hover:text-indigo-700",children:"Create a task"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>(0,b.jsx)(k,{task:a,onUpdate:t,onEdit:()=>{s(a),q(!0)}},a.id))}),l&&(0,b.jsx)(n,{onClose:()=>q(!1),onSuccess:()=>{t()},editTask:r})]})}a.s(["default",()=>q],84)}];

//# sourceMappingURL=frontend_src_2495f08e._.js.map