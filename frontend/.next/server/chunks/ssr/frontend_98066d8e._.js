module.exports=[1395,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactServerDOMTurbopackClient},34075,a=>{"use strict";let b=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000",c=class{static async request(a,c,d,e){let f={"Content-Type":"application/json"};e&&(f.Authorization=`Bearer ${e}`);let g={method:c,headers:f};d&&(g.body=JSON.stringify(d));try{let c=await fetch(`${b}${a}`,g);if(401===c.status)throw Error("Unauthorized");if(!c.ok){let a="An error occurred";try{let b=await c.json();a=b.detail||b.message||a}catch(b){a=c.statusText}throw Error(a)}if(204===c.status)return{};return await c.json()}catch(a){throw a}}static get(a,b){return this.request(a,"GET",void 0,b)}static post(a,b,c){return this.request(a,"POST",b,c)}static put(a,b,c){return this.request(a,"PUT",b,c)}static patch(a,b,c){return this.request(a,"PATCH",b,c)}static delete(a,b){return this.request(a,"DELETE",void 0,b)}};a.s(["default",0,c])},51571,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(98983),e=a.i(34075),f=a.i(59843);function g(){let{login:a}=(0,d.useAuth)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),o=async b=>{b.preventDefault(),l(""),n(!0);try{let b=(await e.default.post("/auth/login",{email:g,password:i})).data.access_token,c={id:"unknown",email:g,name:"User"};try{let a=JSON.parse(atob(b.split(".")[1]));c={id:a.sub||a.user_id||"unknown",email:a.email||g,name:a.name||"User"}}catch(a){console.error("Failed to decode token",a)}a(b,c)}catch(a){l(a.message||"Login failed")}finally{n(!1)}};return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Welcome back"}),(0,b.jsx)("p",{className:"text-slate-500 mt-2",children:"Please enter your details to sign in."})]}),(0,b.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[k&&(0,b.jsx)("div",{className:"p-4 rounded-md bg-red-50 text-red-500 text-sm",children:k}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",required:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"Enter your email",value:g,onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),(0,b.jsx)("input",{id:"password",type:"password",required:!0,className:"w-full px-4 py-3 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",placeholder:"••••••••",value:i,onChange:a=>j(a.target.value)})]}),(0,b.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Signing in...":"Sign in"})]}),(0,b.jsxs)("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Don't have an account?"," ",(0,b.jsx)(f.default,{href:"/auth/register",className:"text-indigo-600 font-semibold hover:text-indigo-500",children:"Sign up"})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=frontend_98066d8e._.js.map