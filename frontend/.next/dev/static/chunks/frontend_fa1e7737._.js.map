{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/quater4/hachthone-ll/evolution-of-todos/frontend/src/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\r\n\r\ntype RequestMethod = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\" | \"PATCH\";\r\n\r\nclass APIClient {\r\n  private static async request<T>(\r\n    endpoint: string,\r\n    method: RequestMethod,\r\n    body?: any,\r\n    token?: string\r\n  ): Promise<T> {\r\n    const headers: HeadersInit = { \"Content-Type\": \"application/json\" };\r\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n    const config: RequestInit = { method, headers };\r\n    if (body) config.body = JSON.stringify(body);\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}${endpoint}`, config);\r\n\r\n      // Unauthorized\r\n      if (response.status === 401) {\r\n        throw new Error(\"Unauthorized. Please login again.\");\r\n      }\r\n\r\n      // No Content\r\n      if (response.status === 204) return {} as T;\r\n\r\n      let data;\r\n      try {\r\n        data = await response.json();\r\n      } catch {\r\n        throw new Error(\"Failed to parse server response\");\r\n      }\r\n\r\n      if (!response.ok) {\r\n        let errorMessage = \"An error occurred\";\r\n        if (data?.detail) {\r\n          if (Array.isArray(data.detail)) {\r\n            errorMessage = data.detail.map((d: any) => d.msg).join(\", \");\r\n          } else {\r\n            errorMessage = data.detail || data.message || errorMessage;\r\n          }\r\n        } else if (data?.message) {\r\n          errorMessage = data.message;\r\n        }\r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      return data as T;\r\n    } catch (err: any) {\r\n      throw new Error(err.message || \"Network error\");\r\n    }\r\n  }\r\n\r\n  static get<T>(endpoint: string, token?: string) {\r\n    return this.request<T>(endpoint, \"GET\", undefined, token);\r\n  }\r\n  static post<T>(endpoint: string, body: any, token?: string) {\r\n    return this.request<T>(endpoint, \"POST\", body, token);\r\n  }\r\n  static put<T>(endpoint: string, body: any, token?: string) {\r\n    return this.request<T>(endpoint, \"PUT\", body, token);\r\n  }\r\n  static patch<T>(endpoint: string, body: any, token?: string) {\r\n    return this.request<T>(endpoint, \"PATCH\", body, token);\r\n  }\r\n  static delete<T>(endpoint: string, token?: string) {\r\n    return this.request<T>(endpoint, \"DELETE\", undefined, token);\r\n  }\r\n}\r\n\r\nexport default APIClient;\r\n"],"names":[],"mappings":"AAAA,aAAa;;;;;AACG;AAAhB,MAAM,UAAU,uLAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAInD,MAAM;IACJ,aAAqB,QACnB,QAAgB,EAChB,MAAqB,EACrB,IAAU,EACV,KAAc,EACF;QACZ,MAAM,UAAuB;YAAE,gBAAgB;QAAmB;QAClE,IAAI,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QAEvD,MAAM,SAAsB;YAAE;YAAQ;QAAQ;QAC9C,IAAI,MAAM,OAAO,IAAI,GAAG,KAAK,SAAS,CAAC;QAEvC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;YAEtD,eAAe;YACf,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,MAAM,IAAI,MAAM;YAClB;YAEA,aAAa;YACb,IAAI,SAAS,MAAM,KAAK,KAAK,OAAO,CAAC;YAErC,IAAI;YACJ,IAAI;gBACF,OAAO,MAAM,SAAS,IAAI;YAC5B,EAAE,OAAM;gBACN,MAAM,IAAI,MAAM;YAClB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI,eAAe;gBACnB,IAAI,MAAM,QAAQ;oBAChB,IAAI,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;wBAC9B,eAAe,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC,IAAW,EAAE,GAAG,EAAE,IAAI,CAAC;oBACzD,OAAO;wBACL,eAAe,KAAK,MAAM,IAAI,KAAK,OAAO,IAAI;oBAChD;gBACF,OAAO,IAAI,MAAM,SAAS;oBACxB,eAAe,KAAK,OAAO;gBAC7B;gBACA,MAAM,IAAI,MAAM;YAClB;YAEA,OAAO;QACT,EAAE,OAAO,KAAU;YACjB,MAAM,IAAI,MAAM,IAAI,OAAO,IAAI;QACjC;IACF;IAEA,OAAO,IAAO,QAAgB,EAAE,KAAc,EAAE;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU,OAAO,WAAW;IACrD;IACA,OAAO,KAAQ,QAAgB,EAAE,IAAS,EAAE,KAAc,EAAE;QAC1D,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU,QAAQ,MAAM;IACjD;IACA,OAAO,IAAO,QAAgB,EAAE,IAAS,EAAE,KAAc,EAAE;QACzD,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU,OAAO,MAAM;IAChD;IACA,OAAO,MAAS,QAAgB,EAAE,IAAS,EAAE,KAAc,EAAE;QAC3D,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU,SAAS,MAAM;IAClD;IACA,OAAO,OAAU,QAAgB,EAAE,KAAc,EAAE;QACjD,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU,UAAU,WAAW;IACxD;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///D:/quater4/hachthone-ll/evolution-of-todos/frontend/src/components/TaskForm.tsx"],"sourcesContent":["// \"use client\";\r\n// import React, { useState, useEffect } from 'react';\r\n// import APIClient from '@/lib/api';\r\n// import { useAuth } from '@/context/AuthContext';\r\n// import { X, Loader2 } from 'lucide-react';\r\n\r\n// interface Task {\r\n//     id: number;\r\n//     title: string;\r\n//     description: string;\r\n// }\r\n\r\n// interface TaskFormProps {\r\n//     onClose: () => void;\r\n//     onSuccess: () => void;\r\n//     editTask?: Task | null;\r\n// }\r\n\r\n// export default function TaskForm({ onClose, onSuccess, editTask }: TaskFormProps) {\r\n//     const { user, token } = useAuth();\r\n//     const [title, setTitle] = useState('');\r\n//     const [description, setDescription] = useState('');\r\n//     const [loading, setLoading] = useState(false);\r\n\r\n//     useEffect(() => {\r\n//         if (editTask) {\r\n//             setTitle(editTask.title);\r\n//             setDescription(editTask.description);\r\n//         }\r\n//     }, [editTask]);\r\n\r\n//     const handleSubmit = async (e: React.FormEvent) => {\r\n//         e.preventDefault();\r\n//         if (!user || !token) return;\r\n\r\n//         setLoading(true);\r\n//         try {\r\n//             if (editTask) {\r\n//                 // PUT /api/{user_id}/tasks/{id}\r\n//                 await APIClient.put(`/api/${user.id}/tasks/${editTask.id}`, { title, description, completed: false }, token); // Note: API might require completed field\r\n//             } else {\r\n//                 // POST /api/{user_id}/tasks\r\n//                 await APIClient.post(`/api/${user.id}/tasks`, { title, description }, token);\r\n//             }\r\n//             onSuccess();\r\n//             onClose();\r\n//         } catch (error) {\r\n//             console.error(\"Failed to save task\", error);\r\n//             alert(\"Failed to save task\");\r\n//         } finally {\r\n//             setLoading(false);\r\n//         }\r\n//     };\r\n\r\n//     return (\r\n//         <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200\">\r\n//             <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200\">\r\n//                 <div className=\"flex items-center justify-between p-6 border-b border-slate-100\">\r\n//                     <h2 className=\"text-xl font-bold text-slate-900\">\r\n//                         {editTask ? 'Edit Task' : 'New Task'}\r\n//                     </h2>\r\n//                     <button\r\n//                         onClick={onClose}\r\n//                         className=\"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\"\r\n//                     >\r\n//                         <X className=\"w-5 h-5\" />\r\n//                     </button>\r\n//                 </div>\r\n\r\n//                 <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n//                     <div className=\"space-y-2\">\r\n//                         <label className=\"text-sm font-medium text-slate-700\">Title</label>\r\n//                         <input\r\n//                             type=\"text\"\r\n//                             required\r\n//                             value={title}\r\n//                             onChange={(e) => setTitle(e.target.value)}\r\n//                             className=\"w-full px-4 py-2.5 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all placeholder:text-slate-400\"\r\n//                             placeholder=\"What needs to be done?\"\r\n//                             autoFocus\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className=\"space-y-2\">\r\n//                         <label className=\"text-sm font-medium text-slate-700\">Description</label>\r\n//                         <textarea\r\n//                             value={description}\r\n//                             onChange={(e) => setDescription(e.target.value)}\r\n//                             className=\"w-full px-4 py-2.5 rounded-lg border border-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all placeholder:text-slate-400 min-h-[120px] resize-none\"\r\n//                             placeholder=\"Add some details...\"\r\n//                         />\r\n//                     </div>\r\n\r\n//                     <div className=\"pt-4 flex justify-end gap-3\">\r\n//                         <button\r\n//                             type=\"button\"\r\n//                             onClick={onClose}\r\n//                             className=\"px-5 py-2.5 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors\"\r\n//                         >\r\n//                             Cancel\r\n//                         </button>\r\n//                         <button\r\n//                             type=\"submit\"\r\n//                             disabled={loading}\r\n//                             className=\"px-5 py-2.5 bg-indigo-600 text-white font-medium hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-500/30 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n//                         >\r\n//                             {loading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\r\n//                             {editTask ? 'Save Changes' : 'Create Task'}\r\n//                         </button>\r\n//                     </div>\r\n//                 </form>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport APIClient from \"@/lib/api\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { X, Loader2 } from \"lucide-react\";\r\n\r\ninterface Task {\r\n  id: number;\r\n  title: string;\r\n  description?: string;\r\n  completed: boolean;\r\n}\r\n\r\ninterface TaskFormProps {\r\n  onClose: () => void;\r\n  onSuccess: () => void;\r\n  editTask?: Task | null;\r\n}\r\n\r\nexport default function TaskForm({ onClose, onSuccess, editTask }: TaskFormProps) {\r\n  const { token } = useAuth();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (editTask) {\r\n      setTitle(editTask.title);\r\n      setDescription(editTask.description || \"\");\r\n    }\r\n  }, [editTask]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!token) return;\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (editTask) {\r\n        // Update task\r\n        await APIClient.put(\r\n          `/api/tasks/${editTask.id}`,\r\n          { title, description, completed: editTask.completed },\r\n          token\r\n        );\r\n      } else {\r\n        // Create new task\r\n        await APIClient.post(\r\n          `/api/tasks`,\r\n          { title, description },\r\n          token\r\n        );\r\n      }\r\n\r\n      onSuccess();\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(\"Failed to save task\", err);\r\n      alert(err.message || \"Failed to save task\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n      <div className=\"bg-white w-full max-w-lg rounded-xl shadow-lg\">\r\n        <div className=\"flex justify-between items-center p-4 border-b\">\r\n          <h2 className=\"text-lg font-semibold\">{editTask ? \"Edit Task\" : \"New Task\"}</h2>\r\n          <button onClick={onClose}><X /></button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-4 space-y-4\">\r\n          <input\r\n            type=\"text\"\r\n            required\r\n            placeholder=\"Title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n\r\n          <textarea\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            className=\"w-full border p-2 rounded\"\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"bg-indigo-600 text-white px-4 py-2 rounded flex items-center gap-2\"\r\n          >\r\n            {loading && <Loader2 className=\"animate-spin w-4 h-4\" />}\r\n            {editTask ? \"Save Changes\" : \"Create Task\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///D:/quater4/hachthone-ll/evolution-of-todos/frontend/src/components/TaskList.tsx"],"sourcesContent":["// \"use client\";\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useAuth } from '@/context/AuthContext';\r\n// import APIClient from '@/lib/api';\r\n// import TaskCard from './TaskCard';\r\n// import TaskForm from './TaskForm';\r\n// import { Plus, Loader2, Inbox } from 'lucide-react';\r\n\r\n// interface Task {\r\n//     id: number;\r\n//     user_id: string;\r\n//     title: string;\r\n//     description: string;\r\n//     completed: boolean;\r\n//     created_at: string;\r\n//     updated_at: string;\r\n// }\r\n\r\n// export default function TaskList() {\r\n//     const { user, token } = useAuth();\r\n//     const [tasks, setTasks] = useState<Task[]>([]);\r\n//     const [loading, setLoading] = useState(true);\r\n//     const [isFormOpen, setIsFormOpen] = useState(false);\r\n//     const [editingTask, setEditingTask] = useState<Task | null>(null);\r\n\r\n//     const fetchTasks = async () => {\r\n//         if (!user || !token) return;\r\n//         try {\r\n//             // GET /api/{user_id}/tasks\r\n//             const res = await APIClient.get<{ data: Task[] }>(`/api/${user.id}/tasks`, token);\r\n//             // Ensure we set tasks to an array. The API contract said response structure is { success: true, data: [...] }\r\n//             setTasks(res.data || []);\r\n//         } catch (error) {\r\n//             console.error('Failed to fetch tasks', error);\r\n//         } finally {\r\n//             setLoading(false);\r\n//         }\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         if (user && token) {\r\n//             fetchTasks();\r\n//         }\r\n//     }, [user, token]);\r\n\r\n//     const handleEdit = (task: Task) => {\r\n//         setEditingTask(task);\r\n//         setIsFormOpen(true);\r\n//     };\r\n\r\n//     const handleSuccess = () => {\r\n//         fetchTasks();\r\n//     };\r\n\r\n//     // Filter tasks if needed, or sort\r\n//     const sortedTasks = [...tasks].sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\r\n\r\n//     if (loading) {\r\n//         return (\r\n//             <div className=\"flex h-64 items-center justify-center\">\r\n//                 <Loader2 className=\"w-8 h-8 text-indigo-500 animate-spin\" />\r\n//             </div>\r\n//         );\r\n//     }\r\n\r\n//     return (\r\n//         <div>\r\n//             <div className=\"flex items-center justify-between mb-8\">\r\n//                 <div>\r\n//                     <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">My Tasks</h1>\r\n//                     <p className=\"text-slate-500 mt-1\">\r\n//                         You have {tasks.filter(t => !t.completed).length} incomplete tasks.\r\n//                     </p>\r\n//                 </div>\r\n//                 <button\r\n//                     onClick={() => { setEditingTask(null); setIsFormOpen(true); }}\r\n//                     className=\"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-lg shadow-lg shadow-indigo-500/20 font-medium transition-all hover:scale-[1.02]\"\r\n//                 >\r\n//                     <Plus className=\"w-5 h-5\" />\r\n//                     Add Task\r\n//                 </button>\r\n//             </div>\r\n\r\n//             {tasks.length === 0 ? (\r\n//                 <div className=\"bg-white rounded-2xl p-12 text-center border-2 border-dashed border-slate-200\">\r\n//                     <div className=\"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4\">\r\n//                         <Inbox className=\"w-8 h-8 text-slate-400\" />\r\n//                     </div>\r\n//                     <h3 className=\"text-xl font-semibold text-slate-900 mb-2\">No tasks yet</h3>\r\n//                     <p className=\"text-slate-500 max-w-sm mx-auto mb-6\">\r\n//                         Get started by creating your first task using the button above.\r\n//                     </p>\r\n//                     <button\r\n//                         onClick={() => { setEditingTask(null); setIsFormOpen(true); }}\r\n//                         className=\"text-indigo-600 font-semibold hover:text-indigo-700\"\r\n//                     >\r\n//                         Create a task\r\n//                     </button>\r\n//                 </div>\r\n//             ) : (\r\n//                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n//                     {sortedTasks.map((task) => (\r\n//                         <TaskCard\r\n//                             key={task.id}\r\n//                             task={task}\r\n//                             onUpdate={fetchTasks}\r\n//                             onEdit={() => handleEdit(task)}\r\n//                         />\r\n//                     ))}\r\n//                 </div>\r\n//             )}\r\n\r\n//             {isFormOpen && (\r\n//                 <TaskForm\r\n//                     onClose={() => setIsFormOpen(false)}\r\n//                     onSuccess={handleSuccess}\r\n//                     editTask={editingTask}\r\n//                 />\r\n//             )}\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport APIClient from \"@/lib/api\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport TaskForm from \"./TaskForm\";\r\n\r\ninterface Task {\r\n  id: number;\r\n  title: string;\r\n  description?: string;\r\n  completed: boolean;\r\n}\r\n\r\nexport default function TaskList() {\r\n  const { token } = useAuth();\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingTask, setEditingTask] = useState<Task | null>(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n\r\n  const fetchTasks = async () => {\r\n    if (!token) return;\r\n    setLoading(true);\r\n    try {\r\n      const data = await APIClient.get<Task[]>(\"/api/tasks\", token);\r\n      setTasks(data);\r\n    } catch (err: any) {\r\n      console.error(\"Failed to fetch tasks\", err);\r\n      alert(err.message || \"Failed to fetch tasks\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, [token]);\r\n\r\n  const handleEdit = (task: Task) => {\r\n    setEditingTask(task);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleSuccess = () => {\r\n    fetchTasks();\r\n    setEditingTask(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"mb-4 bg-green-600 text-white px-4 py-2 rounded\"\r\n        onClick={() => setShowForm(true)}\r\n      >\r\n        Add Task\r\n      </button>\r\n\r\n      {loading ? (\r\n        <p>Loading tasks...</p>\r\n      ) : tasks.length === 0 ? (\r\n        <p>No tasks found.</p>\r\n      ) : (\r\n        <ul className=\"space-y-2\">\r\n          {tasks.map((task) => (\r\n            <li key={task.id} className=\"border p-3 rounded flex justify-between items-center\">\r\n              <div>\r\n                <h3 className=\"font-semibold\">{task.title}</h3>\r\n                {task.description && <p className=\"text-sm\">{task.description}</p>}\r\n              </div>\r\n              <button\r\n                className=\"bg-blue-600 text-white px-2 py-1 rounded\"\r\n                onClick={() => handleEdit(task)}\r\n              >\r\n                Edit\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n\r\n      {showForm && (\r\n        <TaskForm\r\n          onClose={() => setShowForm(false)}\r\n          onSuccess={handleSuccess}\r\n          editTask={editingTask}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/frontend/node_modules/lucide-react/dist/esm/icons/x.js","sources":["file:///D:/quater4/hachthone-ll/evolution-of-todos/frontend/node_modules/lucide-react/src/icons/x.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAc,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC3C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAc,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC7C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,KAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,6KAAA,EAAiB,CAAA,CAAA,CAAA,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/frontend/node_modules/lucide-react/dist/esm/icons/loader-circle.js","sources":["file:///D:/quater4/hachthone-ll/evolution-of-todos/frontend/node_modules/lucide-react/src/icons/loader-circle.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAuB;IAAC;QAAC,MAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,6BAAA,CAAA;YAA+B,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAC;CAAA;AAalG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,YAAA,CAAA,CAAA,KAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,6KAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA","debugId":null}}]
}