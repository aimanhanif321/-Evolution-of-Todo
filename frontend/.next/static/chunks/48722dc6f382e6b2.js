(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,t,u)=>{t.exports=e.r(9187)},53904,e=>{"use strict";var t=e.i(48277),u=e.i(30668),o=e.i(96086);let r=(0,u.createContext)(void 0);function l({children:e}){let[l,s]=(0,u.useState)(null),[a,i]=(0,u.useState)(null),[n,h]=(0,u.useState)(!0),c=(0,o.useRouter)(),d=(0,o.usePathname)();return(0,u.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(e),s(JSON.parse(t))),h(!1)},[]),(0,u.useEffect)(()=>{let e=["/auth/login","/auth/register"];!n&&(a||e.includes(d)?a&&e.includes(d)&&c.push("/dashboard"):c.push("/auth/login"))},[a,d,n,c]),(0,t.jsx)(r.Provider,{value:{user:l,token:a,login:(e,t)=>{i(e),s(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),c.push("/dashboard")},logout:()=>{i(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user"),c.push("/auth/login")},isAuthenticated:!!a,isLoading:n},children:e})}e.s(["AuthProvider",()=>l,"useAuth",0,()=>{let e=(0,u.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}])}]);